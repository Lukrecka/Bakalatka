<div class="navBar">
  <nav>
      <ul>
      <li><a routerLink="/info" routerLinkActive="active">Úvod</a></li>
        <li><a routerLink="/map" routerLinkActive="active">Mapa cintorína</a></li>
        <li *ngIf="loginID > 0 || loginID == 0"><a routerLink="/buy-Grave" routerLinkActive="active">Kúpa miesta</a></li>
        <li *ngIf="loginID == 0"><a routerLink="/adminBoard" routerLinkActive="active">Moja nástenka</a></li>
      </ul>
    
  </nav>
  <div class="buttons">
    <button class="sendMails" (click)="sendMails()">Poslat mail</button>
    <button class="logout" (click)="logout()">Odhlasenie</button>
  </div>
  </div>
<!--
  <div class="selected" formControlName="replytype" type="text" style="width: 100%;" [(ngModel)]="optionValue">
    <select>
      <option value="cemetery">Cintorín</option>
      <option value="corpses">Zosnulý</option>
      <option value="users">Používatela</option>
      <option class="payments">Platby</option>
    </select>
  </div>

  <ng-container *ngIf="optionValue == 'opentype'">
<div class="col-md-12 no-padding">
              <label>Main Menu</label>
              <input type="text"class="form-control" id="mainmenu" placeholder="Message Text">
            </div> 
</ng-container>
-->
<div class="container">
  <h2>Cintorin</h2>
<table  border='1' width='100%' style='border-collapse: collapse;'>
    <tr>
      <th>ID miesta</th>
      <th>Súradnica 1</th>
      <th>Súradnica 2</th>
      <th>Súradnica 3</th>
      <th>Súradnica 4</th>
      <th>Typ miesta</th>
      <th></th>
  
    </tr>
  
    <tr *ngFor="let cemetery of cemetery">
      <td>{{ cemetery.id_grave }}</td>
      <td>{{ cemetery.id_user }}</td>
      <td>{{ cemetery.coor1 }}</td>
      <td>{{ cemetery.coor2 }}</td>
      <td>{{ cemetery.coor3 }}</td>
      <td>{{ cemetery.coor4 }}</td>
      <td>{{ cemetery.type }}</td>
      <td>
        <button (click)="delete(cemetery.id_grave,'grave')">Delete</button>
        <button (click)="selectGrave(cemetery)">Update</button>  
      </td> 
    </tr>
  </table>
  <div class="graves">
    <form #formGrave = "ngForm">
      <label>Id hrob</label>
      <input type="number" name="id_grave" [(ngModel)] = "selectedGrave.id_grave">
      <label>Id užívateľa</label>
      <input type="number" name="id_user" [(ngModel)] = "selectedGrave.id_user">
      <label>Sur1</label>
      <input type="text" name="coor1" [(ngModel)] = "selectedGrave.coor1">
      <label>Sur2</label>
      <input type="text" name="coor2" [(ngModel)] = "selectedGrave.coor2">
      <label>Sur3</label>
      <input type="text" name="coor3" [(ngModel)] = "selectedGrave.coor3">
      <label>Sur4</label>
      <input type="text" name="coor4" [(ngModel)] = "selectedGrave.coor4">
      <label>Typ</label>
      <input type="text" name="type" [(ngModel)] = "selectedGrave.type">
      <input type="button" (click)="updateGrave(formGrave)" value="Update">
      <input type="button" (click)="createGrave(formGrave)" value="Create">
      
    </form>
  </div>

  <h2>Zosnuly</h2>
  <table border='1' width='100%' style='border-collapse: collapse;'>
    <tr>
      <th>ID zosnuleho</th>
      <th>ID hrobu</th>
      <th>Meno</th>
      <th>Priezvisko</th>
      <th>Datum narodenia</th>
      <th>Datum umrtia</th>
      <th>Datum zaplatene do</th>
      <th></th>
  
    </tr>
  
    <tr *ngFor="let corpses of corpses">
      <td>{{ corpses.id_corpse }}</td>
      <td>{{ corpses.id_grave }}</td>
      <td>{{ corpses.name }}</td>
      <td>{{ corpses.lastname }}</td>
      <td>{{ corpses.birthDay }}</td>
      <td>{{ corpses.deadDay }}</td>
      <td>{{ corpses.paidBy }}</td>
      <td>
        <button (click)="delete(corpses.id_corpse,'corpse')">Delete</button>
        <button (click)="selectCorpse(corpses)">Update</button>  
      </td> 
    </tr>
  </table>
  <div class="corpses">
    <form #formCorpse = "ngForm">
      <label>Id hrob</label>
      <input type="number" name="id_grave" [(ngModel)] = "selectedCorpse.id_grave">
      <label>meno</label>
      <input type="text" name="name" [(ngModel)] = "selectedCorpse.name">
      <label>priezvisko</label>
      <input type="text" name="lastname" [(ngModel)] = "selectedCorpse.lastname">
      <label>Dátum narodenia</label>
      <input type="text" name="birthDay" [(ngModel)] = "selectedCorpse.birthDay">
      <label>Dátum úmrtia</label>
      <input type="text" name="deadDay" [(ngModel)] = "selectedCorpse.deadDay">
      <label>Zaplatené do</label>
      <input type="text" name="paidBy" [(ngModel)] = "selectedCorpse.paidBy">
      <input type="button" (click)="updateCorpse(formCorpse)" value="Update">
      <input type="button" (click)="createCorpse(formGrave)" value="Create">
      
    </form>
  </div>

  <h2>Uzivatelia</h2>
  <table border='1' width='100%' style='border-collapse: collapse;'>
    <tr>
      <th>ID uzivatela</th>
      <th>Id hrob</th>
      <th>Meno</th>
      <th>Priezvisko</th>
      <th>Tel. cislo</th>
      <th>email</th>
      <th>heslo</th>
      <th>Obec</th>
      <th>Ulica</th>
      <th>Číslo domu</th>
      <th>PSČ</th>
      <th></th>
  
    </tr>
  
    <tr *ngFor="let registration of registration">
      <td>{{ registration.id_user }}</td>
      <td>{{ registration.id_grave }}</td>
      <td>{{ registration.name }}</td>
      <td>{{ registration.lastname }}</td>
      <td>{{ registration.number }}</td>
      <td>{{ registration.email }}</td>
      <td>{{ registration.password }}</td>
      <td>{{ registration.town }}</td>
      <td>{{ registration.street }}</td>
      <td>{{ registration.number_house }}</td>
      <td>{{ registration.postcode }}</td>
      <td>
        <button (click)="delete(registration.id_user,'user')">Delete</button>
        <button (click)="selectUser(registration)">Update</button>
      </td>
    </tr>
  </table>

  <div class="updateUser">
    <form #formUser = "ngForm">
      <label>Id hrob</label>
      <input type="number" name="id_grave" [(ngModel)] = "selectedUser.id_grave">
      <label>meno</label>
      <input type="text" name="name" [(ngModel)] = "selectedUser.name">
      <label>priezvisko</label>
      <input type="text" name="lastname" [(ngModel)] = "selectedUser.lastname">
      <label>Tel</label>
      <input type="text" name="number" [(ngModel)] = "selectedUser.number">
      <label>Email</label>
      <input type="text" name="email" [(ngModel)] = "selectedUser.email">
      <label>Mesto</label>
      <input type="text" name="town" [(ngModel)] = "selectedUser.town">
      <label>Ulica</label>
      <input type="text" name="street" [(ngModel)] = "selectedUser.street">
      <label>Číslo domu</label>
      <input type="text" name="number_house" [(ngModel)] = "selectedUser.number_house">
      <label>PSČ</label>
      <input type="text" name="postcode" [(ngModel)] = "selectedUser.postcode">
      <input type="button" (click)="updateUser(formUser)" value="Update">
    </form>
  </div>


  <h2>Platby</h2>
  <table border='1' width='100%' style='border-collapse: collapse;'>
    <tr>
      <th>ID uzivatela</th>
      <th>Id hrob</th>
      <th>Den zaplatenia</th>
      <th>typ miesta</th>
      <th></th>
    </tr>
  
    <tr *ngFor="let payment of payment">
      <td>{{ payment.id_user }}</td>
      <td>{{ payment.id_grave }}</td>
      <td>{{ payment.paidDay }}</td>
      <td>{{ payment.type }}</td>
      <td>
        <button (click)="selectPayment(payment)">Update</button>
      </td>
    </tr>
  </table>

  <div class="updatePayment">
    <form #formPayment = "ngForm">
      <label>Id uzivatela</label>
      <input type="number" name="id_user" [(ngModel)] = "selectedPayment.id_user">
      <label>Id hrob</label>
      <input type="number" name="id_grave" [(ngModel)] = "selectedPayment.id_grave">
      <label>Den zaplatenia</label>
      <input type="text" name="paidDay" [(ngModel)] = "selectedPayment.paidDay">
      <label>typ miesta</label>
      <input type="text" name="type" [(ngModel)] = "selectedPayment.type">
      <input type="button" (click)="updatePayment(formPayment)" value="Update">
      <input type="button" (click)="createPayment(formPayment)" value="Create">
    </form>
  </div>

</div>